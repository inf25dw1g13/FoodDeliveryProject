# C2 : Recursos

A API disponibiliza 9 recursos principais na base de dados (*MariaDB*): Restaurantes, Pratos, Clientes, Ingredientes, Entregas, Pedidos, Categorias de Pratos, Entregadores e Códigos Postais. Cada recurso implementa as operações *CRUD* (*Create*, *Read*, *Update*, *Delete*) através dos métodos *HTTP POST*, *GET*, *PUT*, *PATCH* e *DELETE*, seguindo os princípios de uma arquitetura *REST*. A API foi desenvolvida com *LoopBack 4* e inclui um *backoffice* desenvolvido com *React Admin*.

## Restaurantes

**Estrutura do Recurso:**

```json
{
  "id": 1,
  "nome": "Pizzaria Bella Napoli",
  "morada": "Rua das Flores, 123",
  "codpostal": "4000-001",
  "email": "bella@napoli.pt",
  "telefone": "223456789",
  "especialidade_id": 1,
  "hora_abertura": "12:00:00",
  "hora_fecho": "23:00:00",
  "estado": "aberto",
  "descricao": "Pizzas roubadas da Pizzahut",
  "taxa_entrega": 2.99
}
```

**Operações *CRUD*:**

- `GET /restaurantes` - Lista todos os restaurantes
- `GET /restaurantes/count` - Conta o número de restaurantes
- `GET /restaurantes/{id}` - Obtém um restaurante específico pelo seu *ID*
- `GET /restaurantes/{id}/pratos` - Lista todos os pratos de um restaurante (relação 1:n)
- `GET /restaurantes/{id}/pedidos` - Lista todos os pedidos de um restaurante (relação 1:n)
- `GET /restaurantes/{id}/entregas` - Lista todas as entregas de um restaurante (relação 1:n)
- `POST /restaurantes` - Cria um novo restaurante
- `PATCH /restaurantes` - Atualiza múltiplos restaurantes 
- `PATCH /restaurantes/{id}` - Atualiza parcialmente um restaurante
- `PUT /restaurantes/{id}` - Substitui completamente um restaurante
- `DELETE /restaurantes/{id}` - Remove um restaurante do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto*) | Identificador único do restaurante |
| `nome` | *VARCHAR* | Sim | Nome do restaurante |
| `morada` | *VARCHAR* | Sim | Morada completa do restaurante |
| `codpostal` | *CHAR(8)* | Sim (*FK*) | Referência ao código postal (relação 1:n) |
| `email` | *VARCHAR* | Sim | Endereço de email do restaurante |
| `telefone` | *CHAR(9)* | Sim | Número de telefone de contacto |
| `especialidade_id` | *INT* (*FK*) | Sim |Categoria Principal do Restaurante, a sua especialidade |
| `hora_abertura` | *TIME* | Não | Hora de abertura do restaurante (formato HH:MM:SS) |
| `hora_fecho` | *TIME* | Não | Hora de fecho do restaurante (formato HH:MM:SS) |
| `estado` | *ENUM* | Sim | Estado do restaurante (aberto, fechado) |
| `descricao` | *VARCHAR* | Não | Descrição do restaurante |
| `taxa_entrega` | *FLOAT* | Não | Taxa adicional pelo transporte da entrega |
| `created_at` | *TIMESTAMP* | *Auto* | Data e hora de criação do registo |
| `updated_at` | *TIMESTAMP* | *Auto* | Data e hora da última atualização |

**Filtros *HTTP*:**

A API suporta filtros usando a sintaxe LoopBack 4 através do parâmetro `filter`. Exemplos:

- `GET /restaurantes?filter[where][estado]=aberto` - Filtra restaurantes abertos
- `GET /restaurantes?filter[where][especialidade_id]=1` - Filtra restaurantes por especialidade
- `GET /restaurantes?filter[where][codpostal]=4000-001` - Filtra restaurantes por código postal

## Pratos

**Estrutura do Recurso:**

```json
{
    "id": 1,
    "restaurante_id": 1,
    "categoria_id": 1,
    "nome": "Pizza de Frango",
    "preco": 9,
    "descricao": "Molho de tomate, mozzarella e manjericão",
    "disponivel": true,
    "vegetariano": true,
    "vegan": false,
    "sem_gluten": false
}
```

**Operações *CRUD*:**

- `GET /pratos` - Lista todos os pratos disponíveis
- `GET /pratos/count` - Conta o número de pratos
- `GET /pratos/{id}` - Obtém um prato específico pelo seu *ID*
- `GET /pratos/{id}/ingredientes` - Lista os ingredientes de um prato (relação m:n)
- `POST /pratos` - Cria um novo prato
- `PATCH /pratos` - Atualiza múltiplos pratos 
- `PATCH /pratos/{id}` - Atualiza parcialmente um prato
- `PUT /pratos/{id}` - Substitui completamente um prato
- `DELETE /pratos/{id}` - Remove um prato do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto* ) | Identificador único do prato |
| `restaurante_id` | *INT* | Sim (*FK*) | Referência ao restaurante (relação n:1) |
| `categoria_id` | *INT*| Não (*FK*) | Referência à categoria do prato (relação n:1) |
| `nome` | *VARCHAR* | Sim | Nome do prato |
| `preco` | *FLOAT* | Sim | Preço do prato em euros |
| `descricao` | *TEXT* | Não | Descrição detalhada do prato |
| `disponivel` | *BOOLEAN* | Sim | Indica se o prato está disponível |
| `vegetariano` | *BOOLEAN* | Sim | Indica se o prato é vegetariano |
| `vegan` | *BOOLEAN* | Sim | Indica se o prato é vegan |
| `sem_gluten` | *BOOLEAN* | Sim | Indica se o prato não tem glúten |
| `created_at` | *TIMESTAMP* | *Auto* | Data de criação do registo |
| `updated_at` | *TIMESTAMP* | *Auto* | Data da última atualização |

**Filtros *HTTP*:**

- `GET /pratos?filter[where][restaurante_id]=1` - Filtra pratos por restaurante
- `GET /pratos?filter[where][vegetariano]=true` - Filtra apenas pratos vegetarianos
- `GET /pratos?filter[where][vegan]=true` - Filtra apenas pratos vegans
- `GET /pratos?filter[where][disponivel]=true` - Filtra apenas pratos disponíveis
- `GET /pratos?filter[where][categoria_id]=1` - Filtra pratos por categoria

## Clientes

**Estrutura do Recurso:**

```json
{
    "id": 1,
    "nome": "João Silva",
    "email": "joao.silva@email.pt",
    "telefone": "912345678",
    "morada": "Rua das Flores, 45",
    "codpostal": "4000-001"
}
```

**Operações *CRUD*:**

- `GET /clientes` - Lista todos os clientes
- `GET /clientes/count` - Conta o número de clientes
- `GET /clientes/{id}` - Obtém um cliente específico pelo seu *ID*
- `GET /clientes/{id}/pedidos` - Lista todos os pedidos de um cliente (relação 1:n)
- `POST /clientes` - Regista um novo cliente no sistema
- `PATCH /clientes` - Atualiza múltiplos clientes
- `PATCH /clientes/{id}` - Atualiza parcialmente um cliente
- `PUT /clientes/{id}` - Substitui completamente um cliente
- `DELETE /clientes/{id}` - Remove um cliente do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto*) | Identificador único do cliente |
| `nome` | *VARCHAR* | Sim | Nome completo do cliente |
| `email` | *VARCHAR* | Sim | Endereço de *email* do cliente |
| `telefone` | *VARCHAR* | Sim | Número de telefone de contacto |
| `morada` | *VARCHAR* | Sim | Morada do cliente |
| `codpostal` | *CHAR(8)* | Não (*FK*) | Referência ao código postal (relação n:1) |
| `created_at` | *TIMESTAMP* | *Auto* | Data de criação do registo |
| `updated_at` | *TIMESTAMP* | *Auto* | Data da última atualização |

**Filtros *HTTP*:**

- `GET /clientes?filter[where][codpostal]=4000-001` - Filtra clientes por código postal
- `GET /clientes?filter[where][nome][like]=João` - Filtra clientes por nome (busca parcial)


## Entregas

**Estrutura do Recurso:**

```json
{
    "id": 1,
    "tempo_estimado_min": 30,
    "tempo_real_min": 35,
    "hora_entrega": "2026-01-02 17:18:37",
    "estado": "pendente",
    "pedido_id": 1,
    "entregador_id": 1,
    "restaurante_id": 1
}
```

**Operações *CRUD*:**

- `GET /entregas` - Lista todas as entregas
- `GET /entregas/count` - Conta o número de entregas
- `GET /entregas/{id}` - Obtém uma entrega específica pelo seu *ID*
- `POST /entregas` - Cria uma nova entrega
- `PATCH /entregas` - Atualiza múltiplas entregas 
- `PATCH /entregas/{id}` - Atualiza parcialmente uma entrega
- `PUT /entregas/{id}` - Substitui completamente uma entrega
- `DELETE /entregas/{id}` - Remove uma entrega do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto*) | Identificador único da entrega |
| `pedido_id` | *INT* | Sim (*FK*, *Unique*) | Referência ao pedido associado à entrega |
| `entregador_id` | *INT* | Sim (*FK*) | Referência ao entregador responsável |
| `restaurante_id` | *INT* | Sim (*FK*) | Referência ao restaurante |
| `tempo_estimado_min` | *INT* | Não | Tempo estimado de entrega em minutos |
| `tempo_real_min` | *INT* | Não | Tempo real de entrega em minutos |
| `estado` | *ENUM* | Não | Estado atual da entrega (*pendente*, *a_caminho*, *entregue*, *cancelado*) |
| `hora_entrega` | *VARCHAR* | Não | Data e hora da entrega |
| `created_at` | *TIMESTAMP* | *Auto* | Data de criação do registo |
| `updated_at` | *TIMESTAMP* | *Auto* | Data da última atualização |

**Filtros *HTTP*:**

- `GET /entregas?filter[where][estado]=pendente` - Filtra entregas por estado
- `GET /entregas?filter[where][restaurante_id]=5` - Filtra entregas por restaurante
- `GET /entregas?filter[where][entregador_id]=1` - Filtra entregas por entregador
- `GET /entregas?filter[where][and][0][estado]=entregue&filter[where][and][1][restaurante_id]=1` - Combina múltiplos filtros
   
## Ingredientes

**Estrutura do Recurso:**

```json
{
    "id": 1,
    "nome": "Tomate",
    "tipo": "vegetal",
    "alergeno": false
}
```

**Operações *CRUD*:**

- `GET /ingredientes` - Lista todos os ingredientes 
- `GET /ingredientes/count` - Conta o número de ingredientes
- `GET /ingredientes/{id}` - Obtém um ingrediente específico pelo seu *ID*
- `GET /ingredientes/{id}/pratos` - Lista os pratos que contêm este ingrediente (relação m:n)
- `POST /ingredientes` - Cria um novo ingrediente
- `PATCH /ingredientes` - Atualiza múltiplos ingredientes 
- `PATCH /ingredientes/{id}` - Atualiza parcialmente um ingrediente
- `PUT /ingredientes/{id}` - Substitui completamente um ingrediente
- `DELETE /ingredientes/{id}` - Remove um ingrediente do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto*) | Identificador único do ingrediente |
| `nome` | *VARCHAR* | Sim (*Unique*) | Nome do ingrediente |
| `tipo` | *VARCHAR* | Sim | Tipo do ingrediente (ex: vegetal, carne, peixe, lacteo, etc.) |
| `alergeno` | *TINYINT(1)* | Sim | Indica se o ingrediente é um alergénio (padrão: *FALSE*) |
| `created_at` | *TIMESTAMP* | *Auto* | Data de criação do registo |

**Filtros *HTTP*:**

- `GET /ingredientes?filter[where][alergeno]=true` - Filtra apenas ingredientes que são alergenos
- `GET /ingredientes?filter[where][alergeno]=false` - Filtra apenas ingredientes que não são alergenos
- `GET /ingredientes?filter[where][tipo]=vegetal` - Filtra ingredientes por tipo

## Pedidos

**Estrutura do Recurso:**

```json
{
    "id": 1,
    "metodo_pagamento": "cartao",
    "hora_pedido": "2026-01-02T17:04:37.000Z",
    "total": 41,
    "cliente_id": 1,
    "restaurante_id": 1
  }
```

**Operações *CRUD*:**

- `GET /pedidos` - Lista todos os pedidos 
- `GET /pedidos/count` - Conta o número de pedidos
- `GET /pedidos/{id}` - Obtém um pedido específico pelo seu *ID*
- `GET /pedidos/{id}/pratos` - Lista os pratos de um pedido (relação m:n através de `pedidos_pratos`)
- `POST /pedidos` - Cria um novo pedido
- `POST /pedidos/{id}/pratos` - Adiciona um prato a um pedido (relação m:n)
- `PATCH /pedidos` - Atualiza múltiplos pedidos 
- `PATCH /pedidos/{id}` - Atualiza parcialmente um pedido
- `PATCH /pedidos/{id}/pratos` - Atualiza pratos de um pedido
- `PUT /pedidos/{id}` - Substitui completamente um pedido
- `DELETE /pedidos/{id}` - Remove um pedido do sistema
- `DELETE /pedidos/{id}/pratos` - Remove pratos de um pedido

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto*) | Identificador único do pedido |
| `cliente_id` | *INT* | Sim (*FK*) | Referência ao cliente que realizou o pedido |
| `restaurante_id` | *INT* | Sim (*FK*) | Referência ao restaurante associado |
| `metodo_pagamento` | *ENUM* | Não | Método de pagamento (*cartao*, *dinheiro*, *mbway*, *multibanco*, *paypal*) |
| `hora_pedido` | *DATETIME* | Não | Data e hora em que o pedido foi realizado |
| `total` | *FLOAT* | Sim | Valor total do pedido |
| `created_at` | *TIMESTAMP* | *Auto* | Data de criação do registo |
| `updated_at` | *TIMESTAMP* | *Auto* | Data da última atualização |

**Filtros *HTTP*:**

- `GET /pedidos?filter[where][cliente_id]=1` - Filtra pedidos por cliente
- `GET /pedidos?filter[where][restaurante_id]=1` - Filtra pedidos por restaurante
- `GET /pedidos?filter[where][metodo_pagamento]=cartao` - Filtra pedidos por método de pagamento
- `GET /pedidos?filter[order]=hora_pedido DESC&filter[limit]=10` - Últimos 10 pedidos ordenados por data

## Entregadores

**Estrutura do Recurso:**

```json
{
    "id": 1,
    "nome": "João Delivery",
    "email": "joao.delivery@food.pt",
    "telefone": "961234567",
    "codpostal": "4000-001",
    "estado": "disponivel"
}
```

**Operações *CRUD*:**

- `GET /entregadores` - Lista todos os entregadores
- `GET /entregadores/count` - Conta o número de entregadores
- `GET /entregadores/disponiveis` - Lista apenas entregadores disponíveis 
- `GET /entregadores/{id}` - Obtém um entregador específico pelo seu *ID*
- `GET /entregadores/{id}/entregas` - Lista todas as entregas de um entregador (relação 1:n)
- `POST /entregadores` - Cria um novo entregador
- `PATCH /entregadores` - Atualiza múltiplos entregadores (com filtro where)
- `PATCH /entregadores/{id}` - Atualiza parcialmente um entregador
- `PUT /entregadores/{id}` - Substitui completamente um entregador
- `DELETE /entregadores/{id}` - Remove um entregador do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto*) | Identificador único do entregador |
| `nome` | *VARCHAR* | Sim | Nome completo do entregador |
| `email` | *VARCHAR* | Sim | Endereço de email do entregador |
| `telefone` | *CHAR*(9) | Sim (*Unique*) | Número de telefone (deve ser único) |
| `codpostal` | *CHAR*(8) | Não (*FK*) | Código postal (relação n:1) |
| `estado` | *ENUM* | Não | Estado do entregador: `disponivel`, `ocupado`, `indisponivel` (padrão: `disponivel`) |
| `created_at` | *TIMESTAMP* | *Auto* | Data de criação do registo |
| `updated_at` | *TIMESTAMP* | *Auto* | Data da última atualização |

**Filtros *HTTP*:**

- `GET /entregadores?filter[where][estado]=disponivel` - Filtra entregadores por estado
- `GET /entregadores?filter[where][codpostal]=4000-001` - Filtra entregadores por código postal

## Categorias de Pratos


**Estrutura do Recurso:**

```json
{
    "id": 1,
    "nome": "Pizza"
}
```

**Operações *CRUD*:**

- `GET /categorias-pratos` - Lista todas as categorias
- `GET /categorias-pratos/count` - Conta o número de categorias
- `GET /categorias-pratos/{id}` - Obtém uma categoria específica pelo seu *ID*
- `GET /categorias-pratos/{id}/pratos` - Lista todos os pratos de uma categoria (relação 1:n)
- `POST /categorias-pratos` - Cria uma nova categoria
- `PATCH /categorias-pratos` - Atualiza múltiplas categorias (com filtro where)
- `PATCH /categorias-pratos/{id}` - Atualiza parcialmente uma categoria
- `PUT /categorias-pratos/{id}` - Substitui completamente uma categoria
- `DELETE /categorias-pratos/{id}` - Remove uma categoria do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `id` | *INT* | Sim (*PK*, *Auto*) | Identificador único da categoria |
| `nome` | *VARCHAR* | Sim (*Unique*) | Nome da categoria |
| `created_at` | *TIMESTAMP* | *Auto* | Data de criação do registo |

**Filtros *HTTP*:**

- `GET /categorias-pratos?filter[where][nome]=Pizza` - Filtra categorias por nome

## Códigos Postais

Este recurso permite a gestão dos códigos postais e localidades do sistema.

**Estrutura do Recurso:**

```json
{
    "codpostal": "4000-001",
    "localidade": "Porto",
    "cidade": "Porto"
}
```

**Operações *CRUD*:**

- `GET /codpostais` - Lista todos os códigos postais
- `GET /codpostais/count` - Conta o número de códigos postais
- `GET /codpostais/{codpostal}` - Obtém um código postal específico (usa código postal como ID)
- `GET /codpostais/search/{termo}` - Pesquisa códigos postais por termo 
- `GET /codpostais/cidade/{cidade}` - Lista códigos postais de uma cidade 
- `POST /codpostais` - Cria um novo código postal
- `PATCH /codpostais` - Atualiza múltiplos códigos postais (com filtro where)
- `PATCH /codpostais/{codpostal}` - Atualiza parcialmente um código postal
- `PUT /codpostais/{codpostal}` - Substitui completamente um código postal
- `DELETE /codpostais/{codpostal}` - Remove um código postal do sistema

**Campos da Tabela:**

| Campo | Tipo | Obrigatório | Descrição |
|-------|------|-------------|-----------|
| `codpostal` | *CHAR*(8) | Sim (*PK*) | Código postal (formato: XXXX-XXX) |
| `localidade` | *VARCHAR* | Sim | Nome da localidade |
| `cidade` | *VARCHAR* | Sim | Nome da cidade |

**Filtros *HTTP*:**

- `GET /codpostais?filter[where][cidade]=Porto` - Filtra códigos postais por cidade
- `GET /codpostais?filter[where][localidade]=Sé` - Filtra códigos postais por localidade

## Relações entre os Recursos

### Relações 1:n (Um-para-Muitos)

Estas relações são implementadas através de chaves estrangeiras (*Foreign Keys*) nas tabelas:

- **restaurantes → pratos**: Um restaurante pode ter múltiplos pratos
  - Implementada através do campo `restaurante_id` na tabela `pratos`
  - Endpoint: `GET /restaurantes/{id}/pratos`

- **restaurantes → pedidos**: Um restaurante pode receber múltiplos pedidos
  - Implementada através do campo `restaurante_id` na tabela `pedidos`
  - Endpoint: `GET /restaurantes/{id}/pedidos`

- **clientes → pedidos**: Um cliente pode fazer múltiplos pedidos
  - Implementada através do campo `cliente_id` na tabela `pedidos`
  - Endpoint: `GET /clientes/{id}/pedidos`

- **entregas → pedidos**: Uma entrega pertence a um pedido
  - Implementada através do campo `pedido_id` na tabela `entregas` (relação n:1)
  - O pedido pode ser obtido através de `GET /entregas/{id}?filter[include][]=pedido`

### Relações n:1 (Muitos-para-Um)

Estas relações são implementadas através de chaves estrangeiras (*Foreign Keys*) nas tabelas. As relações n:1 podem ser acedidas através de filtros `include` ou através dos endpoints das relações 1:n inversas:

- **pratos → restaurantes**: Um prato pertence a um restaurante
  - Implementada através do campo `restaurante_id` na tabela `pratos`
  - O restaurante pode ser obtido através de `GET /pratos/{id}?filter[include][]=restaurante` ou através de `GET /restaurantes/{restaurante_id}`

- **pedidos → clientes**: Um pedido pertence a um cliente
  - Implementada através do campo `cliente_id` na tabela `pedidos`
  - O cliente pode ser obtido através de `GET /clientes/{cliente_id}`

- **pedidos → restaurantes**: Um pedido pertence a um restaurante
  - Implementada através do campo `restaurante_id` na tabela `pedidos`
  - O restaurante pode ser obtido através de `GET /restaurantes/{restaurante_id}`

- **entregas → pedidos**: Uma entrega pertence a um pedido
  - Implementada através do campo `pedido_id` na tabela `entregas`
  - O pedido pode ser obtido através de `GET /entregas/{id}?filter[include][]=pedido`

- **entregas → entregadores**: Uma entrega é feita por um entregador
  - Implementada através do campo `entregador_id` na tabela `entregas`
  - O entregador pode ser obtido através de `GET /entregadores/{entregador_id}`

### Relações m:n (Muitos-para-Muitos)

Estas relações são implementadas através de tabelas intermediárias:

- **pratos ↔ ingredientes**: Um prato pode ter vários ingredientes e um ingrediente pode estar em vários pratos
  - Tabela intermediária: `pratos_ingredientes`
  - Campos: `pratosId`, `ingredientesId` (propriedades do modelo em camelCase)
  - Endpoints:
    - `GET /pratos/{id}/ingredientes` - Lista ingredientes de um prato
    - `POST /pratos/{id}/ingredientes` - Adiciona um ingrediente a um prato
    - `PATCH /pratos/{id}/ingredientes` - Atualiza ingredientes de um prato
    - `DELETE /pratos/{id}/ingredientes` - Remove ingredientes de um prato
    - `GET /ingredientes/{id}/pratos` - Lista pratos que contêm um ingrediente

- **pedidos ↔ pratos**: Um pedido pode conter vários pratos e um prato pode estar em vários pedidos
  - Tabela intermediária: `pedidos_pratos`
  - Campos: `pedidosId`, `pratosId`, `quantidade` (propriedades do modelo em camelCase)
  - Endpoints:
    - `GET /pedidos/{id}/pratos` - Lista pratos de um pedido
    - `POST /pedidos/{id}/pratos` - Adiciona um prato a um pedido
    - `PATCH /pedidos/{id}/pratos` - Atualiza pratos de um pedido
    - `DELETE /pedidos/{id}/pratos` - Remove pratos de um pedido

## Filtros HTTP

### Resumo de Filtros por Recurso

**Restaurantes:**
- `estado` - Filtra por estado (aberto/fechado)
- `especialidade_id` - Filtra por categoria de especialidade
- `codpostal` - Filtra por código postal

**Pratos:**
- `restaurante_id` - Filtra pratos de um restaurante específico
- `categoria_id` - Filtra pratos por categoria
- `vegetariano` - Filtra pratos vegetarianos (true/false)
- `vegan` - Filtra pratos vegans (true/false)
- `disponivel` - Filtra pratos disponíveis (true/false)

**Clientes:**
- `codpostal` - Filtra clientes por código postal
- `nome` - Busca parcial por nome (usando `like`)

**Entregas:**
- `estado` - Filtra por estado da entrega (pendente, a_caminho, entregue, cancelado)
- `restaurante_id` - Filtra entregas de um restaurante
- `entregador_id` - Filtra entregas por entregador

**Ingredientes:**
- `alergeno` - Filtra ingredientes alergénios (true/false)
- `tipo` - Filtra ingredientes por tipo

**Pedidos:**
- `cliente_id` - Filtra pedidos por cliente
- `restaurante_id` - Filtra pedidos por restaurante
- `metodo_pagamento` - Filtra por método de pagamento

**Entregadores:**
- `estado` - Filtra entregadores por estado (disponivel, ocupado, indisponivel)
- `codpostal` - Filtra entregadores por código postal

**Categorias de Pratos:**
- `nome` - Filtra categorias por nome

**Códigos Postais:**
- `cidade` - Filtra códigos postais por cidade
- `localidade` - Filtra códigos postais por localidade

### Exemplos de Uso

```bash
# Listar restaurantes abertos
GET /restaurantes?filter[where][estado]=aberto

# Listar pratos vegetarianos do restaurante 1
GET /pratos?filter[where][and][0][restaurante_id]=1&filter[where][and][1][vegetariano]=true

# Listar entregas pendentes
GET /entregas?filter[where][estado]=pendente

# Listar apenas ingredientes alergénios
GET /ingredientes?filter[where][alergeno]=true

# Listar entregadores disponíveis
GET /entregadores?filter[where][estado]=disponivel

# Últimos 10 pedidos ordenados por data
GET /pedidos?filter[order]=hora_pedido DESC&filter[limit]=10
```

---
[< Previous](c1.md) | [^ Main](../../../) | [Next >](c3.md)
:--- | :---: | ---: 








